\documentclass[12pt, letterpaper]{article}

\usepackage[hyphens,spaces,obeyspaces]{url}
\usepackage{graphicx}
\graphicspath{ {./images/} }
    

\title{CMPUT 499 Final Paper}
\author{Monica Bui}

\begin{document}

\begin{titlepage}
    \centering
    \large
    \vspace{1cm}
    Exploring Software Library Metrics \\ 
    with Repository Badges \\
    \vspace{1cm}
    by \\
    \vspace{1cm}
    Monica Bui \\
    University of Alberta \\
    bui1@ualberta.ca \\
\end{titlepage}

\tableofcontents
\newpage

\listoffigures
\newpage

\section{Introduction}
% How do developers select libraries
% Iinstead of using websites, and online sources
% we look to create badges that can be shown on the spot to users
% to help them seee metrics and pick the best library

Libraries, Frameworks, and Application Programming Interfaces (APIs) provide developers a way to reuse existing functionalities
built by someone else without having to re-implement already built features. Given a large collection of libraries out there,
it is often difficult and not clear how to select the best one to use for your own project. 


Developers may resort to first doing a general search of their desired library features with search results indicating
various resources such as a Q\&A website like StackOverflow \cite{stackoverflow} or a website that hosts open source libraries such as Github \cite{github}.


Previous research has examined different, inner aspects of libraries that may have mentioned in the above
online resources \cite{githubbadges,apiwave,metrics,opinerarticle,analogical}. These aspects or defined 
% dont explicity reccomend libraries. Allow develoeprs to make their
% own judgement to select librarie. Another quanittiative tool
% to help compare b/w 

\section{Related Work}
\subsection{Library Selection Goals}
% This work focused on explicity recomending libraries versus. 
% helping users pick which ones to use. My work is related to X while it 
% differentiates itself from Y

% Library COmparison WEbsite (same method to solve similar problem)
% Library Recommender (Opiner differe methods but similar problem)
% Analogical Libraries (differnt method , same problem)
\subsection{Metrics}
\subsubsection{Quality Assurance}
% Security
% Build
% Test code coverage

\subsubsection{Community Support}
% Stack Overflow

\subsubsection{Repository General Information}
% Pull Requests
% Releases
% Issue Stats
% Commits 

\subsection{Summary}

\section{Background}

\subsection{Badges}
% Trockman's work
% Look at what make's a good badge, not looking at how it can help developers choose libaries
\subsection{Online Badge Services}
% Shields io

\section{Badge Implementation}
\subsection{Overarching Structure of Scripts}
% Insert diagram of how we made our badges

\subsection{Security}
\subsubsection{Definition}
The security badge is inspired by Mora's et. al \cite{metrics} security metric implementation.
However, there are limitations related to classifying some security vulnerabilities due to inaccurate
issue descriptions. These inaccuracies would suggest that there was a security problem but in reality was another issue altogether.
To avoid this conflict brought by issue descriptions, 
we propose to use another existing tool called SpotBugs \cite{spotbugs}.
From the SpotBugs \cite{spotbugs} website description itself, the program \textit{uses static analysis to look for bugs in Java code}.
In conjunction with the FindSecBugs \cite{findsecbugs} plugin to provide a larger data set of security bug patterns to look for, 
both these tools will allow for greater accuracy of targeting security bugs.

The security badge represents the number of security bugs reported by SpotBugs \cite{spotbugs} with the FindSecBugs \cite{findsecbugs} plugin.
We filter for only security bug patterns and configure SpotBugs to only classify bugs on the highest confidence setting
with maximum effort toggled on to increase precision.

\subsubsection{Implementation}

\begin{figure}[!htb]
    \centerline{
        \includegraphics[width=6cm,height=6cm,keepaspectratio=true]{findsecbugsbadge}
    }
    \caption{
        Example of Security Badge
    }
    \label{findsecbugsbadge}
\end{figure}

First, we have a text file that holds open source Java library links hosted on GitHub \cite{github}.
A shell script clones and compiles them respectively under Gradle \cite{gradle} or Maven \cite{maven}.
After compilation, a script runs SpotBugs and FindSecBugs per library under our defined configured settings
and stores the respective result
into the database. The client can hit the security script endpoint to retrieve the saved results which
then can be placed into Shields.io \cite{shields} to output the security badge with an example shown in figure \ref{findsecbugsbadge}. 


\subsection{Last Discussed on Stack Overflow}
\subsubsection{Definition}
We take Mora's et. al \cite{metrics} Last Discussed on Stack Overflow metric and transform it 
into a badge. This badge represents the latest date of a question posted for a specific
library on the Stack Overflow website \cite{stackoverflow}.

\subsubsection{Implementation}

\begin{figure}[!htb]
    \centerline{
        \includegraphics[width=10cm,height=10cm,keepaspectratio=true]{lastdiscussedbadge}
    }
    \caption{
        Example of Last Discussed on Stack Overflow Badge
    }
    \label{lastdiscussed}
\end{figure}

Borrowing the implementation technique \cite{metrics}, we use the StackExchange API \cite{stackexchangeapi}
to search up the library's name under tag search and extract the most popular tag.
With the tag, we make a GET request to the API to search for the most recent question containing the tag
and extract the date. An example of the badge is shown in figure \ref{lastdiscussed}.

\subsection{Issue Response Time}
\subsubsection{Definition}


\subsubsection{Implementation}
% Techqique borrowed


\subsection{Contributor Pull Request Merge Rate}
% picture of formula used and badge
\subsubsection{Definition}


\subsubsection{Implementation}
% PR Shopify article


\subsection{Release Frequency}
\subsubsection{Definition}


\subsubsection{Implementation}
% Techqique borrowed




\section{Evaluation}

\subsection{Open Source Evaluation}
% Shields.io Open source contributions
% Choose SO badge b/c it has the least amount of data to process and gives us a good
% start to see if prototyping thsi works 
\subsection{Future Work Evaluation}
% If I had 4 more months, how would I evaluate this work.
% Have badges hosted on Shields and figure how how many people are using them for popularity?
% Survey insights to why they are suing those specific badges

\section{Threats to Validity and Limitations}
\subsection{Validity}
% <10% comntibnutor rate doesn't capture misclassifies some to be contribtuor when in reality are maintainers

\subsection{Limitations}
% Database caching
% Security only works with Java Libraries and requires seperate update 
% SCripts can only be used locally and need to rerun ngrok everytime


\section{Conclusion and Future Work}
% Future work
% Host Scripts openly using something like heroku or now.js
% Improve Error handling to make sure client knows any bad http codes
% make front end application to display these metrics to get detailed info, visualizations of metrics
% being used where and number of people suing them in line graph


\newpage
\bibliographystyle{IEEEtran}
\bibliography{bibliography}
\end{document}